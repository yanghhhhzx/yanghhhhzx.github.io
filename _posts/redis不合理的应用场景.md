我在网上看到过许多Redis的使用场景，但是我认为有许多的应用场景都不太合理，所以想就此分享一下。

## 使用Redis的Bitmap来做签到？
- 他们认为的原因一：

用Bitmap存放大量的离散的数据具有优势，相对于把已签到的日期逐条进行存储，可以节省大量存储空间。
- 反驳一：

Bitmap确实很适合存储这样的数据，但是在redis中的数据查找是基于内存的，他持久化到磁盘的数据是没办法直接读取的（详见redis详解）。**内存的1G和磁盘的1G能一样吗？内存的空间往往是更加珍贵的，需要放一些访问更加频繁的信息**。虽然用redis的bitmap存比用mysql存占用的确实少了，但是它占用的全是内存空间啊。

- 他们的认为的原因二：

签到表每个人每天都要访问，访问量本来就很大啊？

- 反驳二：

这种观点我认为是没有弄清楚什么样的数据才是访问大的数据。签到表是对于每个用户都是不一样的，**每个用户访问的不是同一张签到表**。在这种情况下，虽然每天都有用户药访问签到功能，但是他们访问的数据是不一样的，**属于是相同请求，不同请求资源**。这种情况下，某一张签到表可能一天只被访问一次。对比下面场景：
1. 一部热门电影，每天有1亿用户访问。他们都是访问同一个电影资源。我只需要将一条数据放入redis，解决大量请求。
2. 1亿个用户，需要1亿张不同签到表。都把他放入redis，但是每条数据每天最多只有一个用户访问。

这样对比就很明显了，redis所以不应该放入会基于用户个体发生改变的信息，而是要放入公共信息，**只有公共信息才是高并发信息**。

## 使用Redis来记录用户点赞过的视频
说是为了提高访问速度，因为需要根据用户个人的点赞记录，查询它点赞过的动态或视频，就将用户点赞放入Redis。这个用法我跟第一点的观点二也是一样的，不过多解释了。**不应该把用户私有的信息记录在Redis内存，这极大浪费内存空间，且访问量极小**，像是查询用户个人行为的数据，应该只放入mysql，也不需要做任何缓存。

_**版权声明：本文为博主原创文章，转载请附上原文出处链接和本声明。**_